#!/usr/bin/env python
# coding: utf-8

import os

def build(ctx):
    data_dir = ctx.path
    out = ctx.bldnode.abspath()

    # data files
    if ctx.env.BUILD_EXAMPLES:
        if not(os.path.exists(str(out) + '/progs/share/latticetester/data')):
            ctx(rule= 'mkdir -p %s' % str(out) + '/progs/share/latticetester/data', always = True)
    for dat in data_dir.ant_glob('*.csv'):
        if ctx.env.BUILD_EXAMPLES:
            ctx(rule='cp %s %s' %(str(dat), str(out) + '/progs/share/latticetester/data'), always = True)
        ctx.install_files('${PREFIX}/share/latticetester/data', dat)
